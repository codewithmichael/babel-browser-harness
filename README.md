BBH ♥ Hello
===========

The Babel Browser Harness (BBH) is a simple CDN-based HTML/JS jig that provides
in-browser ECMAScript transpiling via [Babel](https://babeljs.io/).

In other words, it's a quick way to spin up a single-file ES2015+ sandbox
without worrying about Webpack, Browserify, Gulp, Grunt, etc.

You don't even need a web server if you keep your script in the same file—e.g.
```html
<!-- index.html -->
...
<script type="text/babel">
  console.log("Hello, World!")
</script>
...
```

If you would like to load external scripts (web server required):
```html
<script type="text/babel" src="./myscript.js"></script>
```

**Note:** If you have Python installed (most Linux + Mac users), you can fire up
a simple web server from a terminal in the current directory with the command:
```sh
$ python -m SimpleHTTPServer
```

Installation
------------
Download the BBH `index.html` file and open it in a web browser.

After a couple of seconds, happiness should appear in your browser:
```
BBH ♥ Hello
```

If it does not, you are running an unsupported and unhappy browser.

*(BBH is primarily developed and tested using up-to-date Google Chrome)*

Libraries + Options
-------------------
BBH includes a few commonly used libraries (with mappings) and transpiler
options which can be enabled by uncommenting them in the HTML/JS source.

React/JSX is enabled by default, but can be disabled.

Additional Libraries
--------------------
You can add additional libraries (from CDN or otherwise) under the `IMPORTS`
section.

If you do, and you don't want them running in the global scope (window), update
the `MAPPING` script (located below `IMPORTS`) to contain your preferred library
`name` and the globally scoped variable name(s) (`exports`) generated by the
included library.

The `name` will be used for future `import` statements, and, by default, the
`exports` will automatically be removed from the global scope. `noConflict()`
will be called first if it is available. If this causes any problems, you may
disable the global variable removal by setting `callNoConflict` and/or
`deleteFromWindow` to `false` in your `MAPPING` list.

If multiple `exports` are defined (using array syntax), the first value will be
mapped to the provided module `name`.

***Example - Import mapping***
```html
<!-- index.html -->
...
<!-- IMPORTS - Importing jQuery -->
<script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>

<!-- MAPPING - Mapping jQuery to "jquery" module -->
<script>
  [ // { name, [exports], [ignores], [callNoConflict = true], [deleteFromWindow = true] }
    ...
    { name: 'jquery', exports: ['jQuery', '$'], callNoConflict: false, deleteFromWindow: false },
    ...
  ]
...
```

If any global leaks are detected, a debug message will appear in the console—e.g.
```
BBH ♥ Global Leaks Detected: $, jQuery
```

You can disable logging of known or intentional leaks by setting the `ignores`
property for the specified module.

Import / Export
---------------

All `<script type="text/babel">` scripts run within their own lexical scope.

If `export` statements are used, they may be loaded as modules in other scripts,
as long as the `script` tag contains either a `name` or `src` attribute.

***Example - Local modules***
```html
<!-- index.html -->
...
<script type="text/babel" name="greeter">
  export function sayHello() {
    console.log("Hello, World!")
  }
</script>

<script type="text/babel">
  import { sayHello } from 'greeter'
  sayHello()
</script>
...
```

If you're using a simple web server, you may prefer to store your modules
externally and use the source file's path.

***Example - External modules***
```html
<!-- index.html -->
...
<script type="text/babel" src="./greeter.js"></script>

<script type="text/babel">
  import { sayHello } from './greeter.js'
  sayHello()
</script>
...
```

```js
// greeter.js

export function sayHello() {
  console.log("Hello, World!")
}
```

For external files, you may also use the `name` attribute to override the `src`
path. This practice is encouraged, as it enables more standard `import`
notations, eliminates path format restrictions, and allows for mocking packaged
modules.

***Example - Naming external modules***
```html
<!-- index.html -->
...
<script type="text/babel" name="test-module" src="./node_modules/some_es6_module/index.js"></script>

<script type="text/babel">
  import TestModule from 'test-module'
  TestModule.doSomething()
</script>

<script type="text/babel" name="./greeter" src="./long/path/to/my_greeter.js"></script>

<script type="text/babel">
  import { sayHello } from './greeter'
  sayHello()
</script>
...
```

Credit
------
* BBH's transpiling capability is based around [babel-standalone](https://github.com/Daniel15/babel-standalone)
by Daniel Lo Nigro
* Module registration is handled by the [RequireJS](http://requirejs.org/) AMD
module loader

License
-------
MIT
